#:import MagicBehavior kivymd.uix.behaviors.MagicBehavior
MDScreen:
    id:signup
    name: 'sign_up'

    MDFloatLayout:
        Image:
            source:'img/BMW-M2-Coupe-2015-2560x1600-048 (1).jpg'
            pos_hint:{'center_x':-.3,'center_y':.5}
            size_hint:3.8,1
            allow_stretch: True
            anim_delay: 0
            # anim_loop: 1
            anim_reset: True
            canvas.after:
                Color:
                    rgba: 0,0,0,.3
                Rectangle:
                    size: self.size
                    pos: self.pos
        MDCard:
            radius:20
            size_hint:.95,.7
            md_bg_color:1,1,1,.7
            pos_hint:{'center_y':.5, 'center_x':.5}
            MDCarousel:

                id:slide
                on_current_slide: app.check_complete_slide_information(args[1])
                MDFloatLayout:
                    id:slide_1
                    MDTextField:
                        id:first_name
                        size_hint_x:.7
                        pos_hint:{'center_y':.55, 'center_x':.5}
                        line_color_normal:rgba(178,178,178,255)
                        line_color_focus: rgba(20,20,20,255)
                        helper_text: "Введите ваше имя"
                        helper_text_mode:"on_focus"
                        hint_text:'First Name'
                        required: True

                    MDTextField:
                        id:last_name
                        size_hint_x:.7
                        pos_hint:{'center_y':.4, 'center_x':.5}
                        line_color_normal:rgba(178,178,178,255)
                        line_color_focus: rgba(20,20,20,255)
                        helper_text: "Введите вашу фамилию"
                        helper_text_mode:"on_focus"
                        hint_text:'Last Name'
                        required: True

                    MDIconButton:
                        id:dots_horizontal
                        icon:'chevron-left'
                        pos_hint:{'x':0,'center_y':.5}



                        on_release:
                            app.root.current = 'login'
                            app.root.transition.direction = 'right'

                    MDIconButton:
                        id:dots_horizontal
                        icon:'chevron-right'
                        pos_hint:{'right':1,'center_y':.5}

                        on_release:
                            app.next_slide(slide_1)


                MDFloatLayout:
                    id:slide_2
                    FloatInput:
                        id:number
                        size_hint_x:.7

                        pos_hint:{'center_y':.55, 'center_x':.5}
                        line_color_normal:rgba(178,178,178,255)
                        line_color_focus: rgba(20,20,20,255)
                        helper_text: "Введите номер телефона"
                        helper_text_mode:"on_focus"
                        hint_text:'Number'
                        required: True

                    MDTextField:
                        id:login

                        size_hint_x:.7
                        pos_hint:{'center_y':.4, 'center_x':.5}
                        line_color_normal:rgba(178,178,178,255)
                        line_color_focus: rgba(20,20,20,255)
                        helper_text: "Придумайте логин"
                        helper_text_mode:"on_focus"
                        hint_text:'Login'
                        required: True



                    ClickableTextFieldRound:
                        id:password
                        size_hint_x: .7

                        hint_text: "Password"
                        pos_hint: {"center_x": .5, "center_y": .25}


                    MDIconButton:

                        icon:'chevron-right'
                        pos_hint:{'right':1,'center_y':.5}

                        on_release:
                            app.next_slide(slide_2)

                    MDIconButton:

                        icon:'chevron-left'
                        pos_hint:{'x':0,'center_y':.5}

                        on_release:
                            app.previous_slide(slide_2)


                MDFloatLayout:
                    id:slide_3
                    MDTextField:
                        id:sex
                        size_hint_x:.7
                        pos_hint:{'center_y':.55, 'center_x':.5}
                        line_color_normal:rgba(178,178,178,255)
                        line_color_focus: rgba(20,20,20,255)
                        helper_text: "Ваш пол"
                        helper_text_mode:"on_focus"
                        hint_text:'Sex'

                    MDTextField:
                        id:location
                        size_hint_x:.7
                        pos_hint:{'center_y':.4, 'center_x':.5}
                        line_color_normal:rgba(178,178,178,255)
                        line_color_focus: rgba(20,20,20,255)
                        helper_text: "Ваш регион"
                        helper_text_mode:"on_focus"
                        hint_text:'Location'



                    MDIconButton:
                        id:dots_horizontal
                        icon:'chevron-left'
                        pos_hint:{'x':0,'center_y':.5}



                        on_release:
                            app.previous_slide(slide_3)
                    MDLabel:
                        text:'(Не обязательно)'
                        pos_hint:{'center_y':0.5,'center_x':1}
                        font_size:sp(14)
                        color:rgba(178,178,178,255)
                    MDLabel:
                        text:'(Не обязательно)'
                        pos_hint:{'center_y':0.35,'center_x':1}
                        font_size:sp(14)
                        color:rgba(178,178,178,255)
                    MDRaisedButton:
                        id:registration
                        pos_hint:{'x':.15,'center_y':.15}
                        text: "Сохранить"
                        disabled:True

                        on_release:
                            app.signup()

                    MDFlatButton:
                        pos_hint:{'right':.85,'center_y':.15}
                        theme_text_color: "Custom"
                        text_color: (60/255,136/255,123/255,.7)
                        text: "Отмена"
                        on_release:
                            app.PRINT()


    MDLabel:
        text:'SignUp Form'
        bold:True
        pos_hint:{'center_y':0.8}
        halign: 'center'
        font_style:'H4'

################################################################
    MDLabel:
        id: Name
        text:'Name'
        pos_hint:{'center_y':0.7,'center_x':.6}
        font_style:'H6'

        theme_text_color:'Custom'
    MDIconButton:
        id:icon_1
        theme_text_color:'Custom'
        icon:"numeric-1-circle"
        pos_hint:{'center_y':0.65,'x':.1}
        user_font_size:'35sp'
    MDProgressBar:
        id:progress_1
        size_hint_x:.1
        pos_hint:{'center_y':0.65,'x':.3}

################################################################

    MDLabel:
        id:Contact
        text:'Contact'
        pos_hint:{'center_y':0.7}
        halign: 'center'
        font_style:'H6'

        theme_text_color:'Custom'
    MDIconButton:
        id:icon_2
        theme_text_color:'Custom'
        icon:"numeric-2-circle"
        pos_hint:{'center_y':0.65,'center_x':.5}
        user_font_size:'35sp'
    MDProgressBar:
        id:progress_2
        size_hint_x:.1
        pos_hint:{'center_y':0.65,'right':.7}

################################################################

    MDLabel:
        text:'Submit'
        pos_hint:{'center_y':0.7,'center_x':1.2}
        theme_text_color:'Custom'
        font_style:'H6'
    MDIconButton:
        id:icon_3
        theme_text_color:'Custom'

        icon:"numeric-3-circle"
        pos_hint:{'center_y':0.65,'right':.9}
        user_font_size:'35sp'






<ClickableTextFieldRound>:

    size_hint_y: None
    height: text_field.height

    MDTextField:
        id: text_field
        hint_text: root.hint_text
        text: root.text
        password: True
        icon_left: "key-variant"
        line_color_normal:rgba(178,178,178,255)
        line_color_focus: rgba(20,20,20,255)
        helper_text: "Придумайте пароль"
        helper_text_mode:"on_focus"
        required: True

    MDIconButton:
        icon: "eye-off"
        pos_hint: {"center_y": .55}
        pos: text_field.width - self.width + dp(8), 0
        theme_text_color: "Hint"
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            text_field.password = False if text_field.password is True else True




